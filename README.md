# TRACOParser

Python (ver. 3.8+) tool that parses output from TRACO/PLUTO and generates CUDA.


## Structure
This section provides theoretical information about structre of modules used in this Parser. 



## Examples
Firstly, lets see how we run the parser. Change your directory to *(...)\TRACOParser\\*. Make sure that inside main.py you run only *test_parser()* so comment out __main__ function. As a first example, we will test file *Examples/example1.c*. Run the code below:
 ```python
python main.py -i Examples/example1.c
```

For the reference, file example1.c looks as follows: 
![Example 1](example1)

Whereas output generated by the parser is presented below:
![Output of example1.c](example1)

Test parser function, which we use in this example, looks as follows:
![Test parser](test_parser)

What the *test_parser()* function does, it firstly creates new *Parser* object (passing name of the file to parse). Then it calls Parser's *readfile()* function, which fills Parser's attribute called *file_structure*. This attribute is actually returned by that, but can also be accessed from the class instance as well. *file_structure* is a Python namedtuple, containing the following fields: 

--* *variables*, a dictionary containing info about defined variables
--* *instructions*, a list of instructions executed by the program

Finally, the *test_parser()* function just iterates over the list of instructions and displays information about each one of them. Basically, we check each instruction using *isinstance(object, mainclass)* to check whether its one of two main cases: 
--* Constructions - discussed in **Structure** section in more detail. In short, it describes complex instruction such as for loop, if statement etc. It has a field of type namedtupe, and a list of underlying instructions;
--* simple Python dict - this is a way of representing simple arithmetic operations, assignment to a variable, etc;


In the example, first parsed instruction is **pragma** which sets first spotted 'FOR' as parallel. Next line, we have Constructions object. We see the flag *is_parallel* set to true, and a list of instructions which contains another 'FOR'. We get inside its instructions field and print out another 'FOR' specifics and instructions list, which in turn has Python dict as only element (variable assignment). 

We'll skip example2.c and run the last example: 
![Example 3](example3)

The output from this example is as follows: 
![Example 3 Output](example3 output)

This example contains a multiline 'FOR' which is defined using curly '{}' brackets. Reading the instructions 
